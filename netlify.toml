[build]
  functions = "netlify/functions"
  publish = "."

[functions]
  node_bundler = "esbuild"

[functions."chatbot"]
  timeout = 60

[functions."trataerro"]
  timeout = 300

[functions."flashcard"]
  timeout = 60

[functions."conversacao"]
  timeout = 60

[functions."conversacao-correcoes"]
  timeout = 60

[functions."create-checkout"]
  timeout = 30

# Edge Function para streaming da correção de redações
[[edge_functions]]
  path = "/api/trataerro-stream"
  function = "trataerro-stream"

[[headers]]
  for = "/*"
  [headers.values]
    Access-Control-Allow-Origin = "*"
    Access-Control-Allow-Headers = "Content-Type"
    Access-Control-Allow-Methods = "GET, POST, OPTIONS"
